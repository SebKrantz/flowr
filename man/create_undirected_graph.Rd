% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{create_undirected_graph}
\alias{create_undirected_graph}
\title{Create Undirected Graph}
\usage{
create_undirected_graph(graph_df, agg_cols = "cost", agg_func = fmean, ...)
}
\arguments{
\item{graph_df}{A data frame representing a directed graph with columns:
\code{from}, \code{to}, \code{line}, \code{FX}, \code{FY}, \code{TX}, \code{TY},
and any columns specified in \code{agg_cols}.}

\item{agg_cols}{Character vector (default: "cost"). Column names to aggregate
when collapsing duplicate edges.}

\item{agg_func}{Function (default: \code{fmean}). Aggregation function to apply
to columns specified in \code{agg_cols}. Must be a collapse package function
(e.g., \code{fmean}, \code{fsum}, \code{fmin}, \code{fmax}).}
}
\value{
A data frame representing an undirected graph with:
  \itemize{
    \item \code{from} - Starting node ID (normalized to be < \code{to})
    \item \code{to} - Ending node ID (normalized to be > \code{from})
    \item \code{line} - Line identifier (first value from duplicates)
    \item \code{FX} - Starting node X-coordinate (first value from duplicates)
    \item \code{FY} - Starting node Y-coordinate (first value from duplicates)
    \item \code{TX} - Ending node X-coordinate (first value from duplicates)
    \item \code{TY} - Ending node Y-coordinate (first value from duplicates)
    \item Aggregated columns as specified in \code{agg_cols}
  }
}
\description{
Convert a directed graph to an undirected graph by normalizing edges and aggregating duplicate connections.
}
\details{
This function converts a directed graph to an undirected graph by:
\itemize{
  \item Normalizing edge directions so that \code{from < to} for all edges
  \item Collapsing duplicate edges (same \code{from} and \code{to} nodes)
  \item For spatial/identifier columns (\code{line}, \code{FX}, \code{FY}, \code{TX}, \code{TY}),
    taking the first value from duplicates
  \item For aggregation columns (specified in \code{agg_cols}), applying the
    specified aggregation function (e.g., mean, sum, min, max)
}
}
